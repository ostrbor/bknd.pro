<html lang="ru">
<head>
    <title>Backend Podcast: 14. pgx</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../../css/pico.min.css">
</head>
<body>
<div class="container">
    üåê
    <a href="https://t.me/bkndpro">Telegram</a> /
    <a href="https://open.spotify.com/show/6G9K0DrOH2wsEqDKbed01e?si=oQXKuI4tQKqgJj894-2p_A">Spotify</a> /
    <a href="https://www.youtube.com/@ostrbor/videos">YouTube</a> /
    <a href="https://podcasts.google.com/feed/aHR0cHM6Ly9mZWVkcy5hY2FzdC5jb20vcHVibGljL3Nob3dzLzY0NzI3YzA3ZTY4OTk3MDAxMmZiMWMyMw">Google
        Podcasts</a> /
    <a href="https://music.amazon.com/podcasts/d797927c-7c90-4d4b-a845-3b61dc25060c/backend-podcast">Amazon Music</a> /
    <a href="https://www.podchaser.com/podcasts/backend-podcast-5356704">Podchaser</a> /
    <a href="https://www.jiosaavn.com/shows/backend-podcast/1/gcf017sumlQ_">Jiosaavn</a> /
    <a href="https://feeds.acast.com/public/shows/64727c07e689970012fb1c23">RSS</a>
    <br/>
    ‚ùì –ü–∏—Å–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å—é–¥–∞: <a href="mailto:OstretsovAA+podcast@gmail.com">OstretsovAA+podcast@gmail.com</a>
</div>
<main class="container">
    <hgroup>
        <h1>14. pgx</h1>
        <h2>26.08.2023</h2>
    </hgroup>

    <p>
        <iframe src="https://embed.acast.com/64727c07e689970012fb1c23/64e9f3c75f1fa00011554ea2" frameBorder="0" width="100%" height="190px"></iframe>
        <a href="https://bknd.pro/podcast-files/014_backend_podcast.mp3">–°–∫–∞—á–∞—Ç—å</a>
    </p>

    <p>
        <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>

    <p>
        –°–µ–≥–æ–¥–Ω—è –º—ã –≥–æ–≤–æ—Ä–∏–º –æ –¥—Ä–∞–π–≤–µ—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö pgx. –ü–æ—á–µ–º—É –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º pq –≤ –Ω–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ Go?
        –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å database/sql –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∞ –∫–æ–≥–¥–∞ –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º
        –∏ –ø–æ—á–µ–º—É –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º database/sql? –ü–æ–≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª pgx –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LISTEN/NOTIFY,
        —Ç.–µ. –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (IPC) –Ω–∞ –±–∞–∑–µ PostgreSQL. –ö–æ—Å–Ω—É–ª–∏—Å—å —Ä–∞–±–æ—Ç—ã —Å LOB –∏ —Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ –ë–î.
        –ü–æ–≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ pgx5 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –∏ –ø—Ä–æ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
    </p>

    <p>
        <strong>pgx</strong> - –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å
        PostgreSQL –î–∂–µ–∫–æ–º –ö—Ä–∏—Å—Ç–µ–Ω—Å–µ–Ω–æ–º (Jack Christensen, jackc).
    </p>

    <blockquote>
        pgx provides lower level access to PostgreSQL than the standard database/sql.
        It remains as similar to the database/sql interface as possible while providing
        better speed and access to PostgreSQL specific features.
    </blockquote>

    <p>
        pgx –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–∫ —Å PostgreSQL, —Ç–∞–∫ –∏ —Å CockroachDB
        (–°–£–ë–î, –Ω–∞—Ü–µ–ª–µ–Ω–Ω–∞—è –Ω–∞ –ª–µ–≥–∫–æ—Å—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è).
    </p>

    <p>
        –ü–æ—á—Ç–∏ –≤—Å–µ –º–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç 4 –≤–µ—Ä—Å–∏—é —ç—Ç–æ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞, —Ö–æ—Ç—è —É–∂–µ –ø–æ—á—Ç–∏ –≥–æ–¥ –∫–∞–∫ (—Å–µ–Ω—Ç—è–±—Ä—å 2022)
        –≤—ã—à–ª–∞ 5 –≤–µ—Ä—Å–∏—è. –Ø –∫–∞–∫ —Ä–∞–∑ –≤—ã–∫—Ä–æ–∏–ª –≤—Ä–µ–º—è –Ω–∞ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏–µ —Å —á–µ–Ω–¥–∂–ª–æ–≥–æ–º —Å–≤–µ–∂–∏—Ö –≤–µ—Ä—Å–∏–π –∏ –ø–ª–∞–Ω–∏—Ä—É—é
        –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –Ω–∞ 5—É—é –≤–µ—Ä—Å–∏—é. –ë–ª–∞–≥–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–µ—Å–ª–æ–∂–Ω–æ, —Ç.–∫. –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–π —á–∞—Å—Ç–∏ –≤—Å–µ
        –æ—Å—Ç–∞–ª–æ—Å—å –ø—Ä–µ–∂–Ω–∏–º. –ó–∞–º–µ—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ - —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
        (pgtype, pgconn –∏ pgproto3) –≤ –æ–¥–∏–Ω, –≤ pgx.
    </p>

    <p>
        –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 5 –≤–µ—Ä—Å–∏–∏–∏ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ —Ç—Ä–µ–π—Å–∏–Ω–≥ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å
        –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∫–∞–∫ –æ–Ω–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ 4–æ–π –≤–µ—Ä—Å–∏–∏. –¢—Ä–µ–π—Å–∏–Ω–≥ –≤ 5 –≤–µ—Ä—Å–∏–∏ (tracer.go) –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç
        –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: QueryTracer, BatchTracer, CopyFromTracer, PrepareTracer –∏ ConnectTracer.
        –£ –∫–∞–∂–¥–æ–≥–æ —Ç–∞–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ –¥–≤–∞ –º–µ—Ç–æ–¥–∞: *Start –∏ *End. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–µ–π
        —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –≤—Ç–æ—Ä–æ–π —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–∞–∫–æ–º—É –ø–æ–¥—Ö–æ–¥—É –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑
        opentelemetry —ç–∫—Å–ø–æ—Ä—Ç –≤—ã–∑–æ–≤–æ–≤ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–≥–∏, –Ω–æ –∏ –≤ —Ç—Ä–µ–π—Å–∏–Ω–≥-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –Ω–∞–ø—Ä–∏–º–µ—Ä Jaeger.
    </p>

    <p>
        pgx –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∂–µ –∏ –æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ, —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Go SDK.
        –¢.–∫. —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ç–æ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ª–µ–≥—á–µ —Å–º–µ–Ω–∏—Ç—å –°–£–ë–î –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä, –µ—Å–ª–∏ –Ω–µ
        –±—É–¥–µ—Ç–µ –≤—ã—Ç–∞—Å–∫–∏–≤–∞—Ç—å pgx.Conn –∏ —É–∂–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å pgx.
    </p>

    <p>
        LISTEN/NOTIFY - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è inter-process –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π, –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –≤—Å—Ç–∞–≤–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É –º–æ–∂–Ω–æ –Ω–∞–≤–µ—Å–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å
        –¥–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ NOTIFY, –∞ —Å–ª—É—à–∞—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.
        –ò–∑ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π NOTIFY: –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã–µ –≤ –∫–∞–Ω–∞–ª –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ, –µ—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è,
        –≤ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ NOTIFY –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ.
    </p>

    <p>
        –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (Large Objects). –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ 4–¢–± (TOAST –¥–æ 1–ì–±), —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ
        —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å: LOB –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç Reader –∏ Writer –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –†–∞–±–æ—Ç–∞ —Å LOB–æ–º —á–µ–º-—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç
        —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–æ–º (Read, Write, Seek).
    </p>

    <p>
        RowScanner –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–µ–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏
        –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã–º–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–æ–≤—ã–º –º–µ—Ç–æ–¥–∞–º CollectRows, CollectOneRow –∏ ForEachRow
        –≤—ã–±–æ—Ä–∫–∏ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –Ω–∞–º–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.
    </p>

    <p>
        pgxpool –æ—á–µ–Ω—å –∫–æ–º–ø–∞–∫—Ç–Ω–∞ –ø–æ –∫–æ–¥—É, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç generic-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ puddle –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ—Å—É—Ä—Å–∞.
    </p>

    <p>
        <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>
</main>
</body>
</html>