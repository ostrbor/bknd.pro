<html lang="ru">
<head>
    <title>Backend Podcast: 11. gonew, multi-threaded PostgreSQL</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-normalize@2.0.0/modern-normalize.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="../../css/css.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <div id="other-platforms">
        <a href="https://feeds.acast.com/public/shows/64727c07e689970012fb1c23">RSS</a>
        <a href="https://t.me/bkndpro">Telegram</a>
        <a href="https://www.youtube.com/@ostrbor/videos">YouTube</a>
        <a href="https://music.yandex.ru/album/28370806">–Ø–Ω–¥–µ–∫—Å</a>
        <a href="https://open.spotify.com/show/6G9K0DrOH2wsEqDKbed01e?si=oQXKuI4tQKqgJj894-2p_A">Spotify</a>
        <a href="https://podcasts.google.com/feed/aHR0cHM6Ly9mZWVkcy5hY2FzdC5jb20vcHVibGljL3Nob3dzLzY0NzI3YzA3ZTY4OTk3MDAxMmZiMWMyMw">Google</a>
        <a href="https://music.amazon.com/podcasts/d797927c-7c90-4d4b-a845-3b61dc25060c/backend-podcast">Amazon</a>
        <a href="mailto:OstretsovAA+podcast@gmail.com">–ü–æ—á—Ç–∞</a>
    </div>
    <hgroup>
        <h1>11. gonew, multi-threaded PostgreSQL</h1>
        <h2>05.08.2023</h2>
    </hgroup>

    <p>
        <iframe src="https://embed.acast.com/64727c07e689970012fb1c23/64ce65492c5bd600122f1f75?theme=light" frameBorder="0"
                width="100%" height="190px"></iframe>
        <a href="https://bknd.pro/podcast-files/011_backend_podcast.mp3">–°–∫–∞—á–∞—Ç—å</a>
    </p>

    <p>
        <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>

    <p>
        üèãüèæ‚Äç‚ôÄÔ∏è –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ª–µ–π–∞—É—Ç Go-–ø—Ä–æ–µ–∫—Ç–∞? PostgreSQL —Å—Ç–∞–Ω–µ—Ç single process, multi-threaded? –ß—Ç–æ
        —ç—Ç–æ —Ä–µ—à–∏—Ç –∏ —Å—Ç–∞–Ω–µ—Ç –ª–∏ –°–£–ë–î –±—ã—Å—Ç—Ä–µ–µ?
    </p>

    <p>
        –ü—Ä–æ–µ–∫—Ç—ã –ø–æ–¥ –∑–æ–Ω—Ç–∏–∫–æ–º gorilla –Ω–∞—à–ª–∏ –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞. –≠—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è RedHat.
    </p>

    <h3>gonew</h3>
    <p>
        –ù–∞—á–∏–Ω–∞—é—â–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Ö–æ—á–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ª–µ–π–∞—É—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞, –∞ –æ–ø—ã—Ç–Ω—ã–µ —Ä–∞–∑—Ä–∞–±–æ—á–∏–∫–∏ —Ö–æ—Ç—è—Ç –æ–¥–Ω–æ—Ä–æ–¥–Ω–∏—Å—Ç–∏ —Å–≤–æ–∏—Ö
        –ø—Ä–æ–µ–∫—Ç–æ–≤.
    </p>

    <p>
        –†–∞—Å—Å –ö–æ–∫—Å <a href="https://github.com/golang/go/discussions/61669">–æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª</a> —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç gonew
        –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –±–∞–∑–µ —à–∞–±–ª–æ–Ω–∞.
    </p>

    <p>
        –ï—Å–ª–∏ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏, —Ç–æ –≤—Å–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ go new, –∞ —ç—Ç–æ –≤—Å–µ–≥–æ 233 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞, "go mod download" –∏
        –ø—Ä–∞–≤–∏—Ç –∏–º—è –ø–∞–∫–µ—Ç–∞, –ø—É—Ç–∏ –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö, –∞ —Ç–∞–∫–∂–µ go.mod —Ñ–∞–π–ª (module-—Å—Ç—Ä–æ–∫—É).
    </p>

    <p>
        –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å gonew-–∫–æ–º–∞–Ω–¥—É (go install golang.org/x/tools/cmd/gonew@latest) –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞
        –±–∞–∑–µ –¥—Ä—É–≥–∏—Ö.
    </p>

    <p>
        –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ –ø–æ—Å—Ç—É –†–∞—Å—Å–∞ –ö–æ–∫—Å–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–µ–º–∞–ª–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –¥–∞–∂–µ –ø–æ–ø—ã—Ç–∫–∏ –∫–æ–º–º–µ—Ä—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
        –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ –º–µ–Ω—è –Ω–µ–º–∞–ª–æ —É–¥–≤–∏–ª–∏–≤–æ. –†–µ—á—å –ø—Ä–æ autostrada.dev: –≤—ã–±–∏—Ä–∞–µ—Ç–µ –ë–î, HTTP router, –∫–∞–∫
        –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç–∞ (—á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏), —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏–π –∏
        –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞. –ê–≤—Ç–æ-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã TLS –æ—Ç letsencrypt –∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ USD10. –ò –µ—â–µ –∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
        USD20 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É—á–µ—Ç–∫–∏ (email/password), login, logout –∏ password reset workflow.
    </p>

    <p>
        –°–∞–º–æ –ø–æ —Å–µ–±–µ —Ç–æ, —á—Ç–æ —ç—Ç–∞ –Ω–æ–≤–æ—Å—Ç—å –≤—ã—à–ª–∞ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ –Ω–∞ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç —Å–∫–æ—Ä–µ–µ –æ —Ç–æ–º, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç.
    </p>

    <h3>Multi-threaded PostgreSQL</h3>
    <p>
        –ö–æ–º–∞–Ω–¥–∞ PostgreSQL —Å–Ω–æ–≤–∞ –æ–±—Å—É–∂–¥–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã multi-process (MP) –∫ single-process (SP),
        multi-threaded. –í–æ—Ç –Ω–µ–¥–∞–≤–Ω–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ: <a href="https://lwn.net/Articles/934940/">https://lwn.net/Articles/934940/</a>.
    </p>

    <p>
        –í FAQ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –¥–æ–≤–æ–¥—ã –ø–æ—á–µ–º—É –±—ã–ª–∞ –≤—ã–±—Ä–∞–Ω–∞ –∏–º–µ–Ω–Ω–æ multi-process –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–î: <a
            href="https://wiki.postgresql.org/wiki/Developer_FAQ#Why_don.27t_you_use_raw_devices.2C_async-I.2FO.2C_.3Cinsert_your_favorite_wizz-bang_feature_here.3E.3F">https://wiki.postgresql.org/wiki/Developer_FAQ#Why_don.27t_you_use_raw_devices.2C_async-I.2FO.2C_.3Cinsert_your_favorite_wizz-bang_feature_here.3E.3F</a>
    </p>

    <p>
        –ù–∞ –ø–µ—Ä–∏–æ–¥ —Ç—Ä–∞–∑–∏—Ç–∞ PostgreSQL –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö: SP –∏ MP. –ü—Ä–∏ —ç—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥ –∫ SP –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç
        –∑–∞ –æ–¥–∏–Ω —Ä–µ–ª–∏–∑ –º–∞–∂–æ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏. –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å backend-–ø—Ä–æ—Ü–µ—Å—Å–∞: –≤–º–µ—Å—Ç–æ backend-–ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
        –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –±—É–¥–µ—Ç –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ backend —Ç—Ä–µ–¥–∞–º–∏.
    </p>

    <p>
        –ü–µ—Ä–≤—ã–π –∂–µ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –¢–æ–º–∞ –õ–µ–π–Ω–∞ –Ω–µ –≤—ã–≥—è–¥–∏—Ç –æ–±–æ—Ä—è—é—â–∏–º –∏ –æ–±–Ω–∞–¥–µ–∂–∏–≤–∞—é—â–∏–º. –õ–µ–π–Ω –≤–∏–¥–∏—Ç, —á—Ç–æ —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç
        —Å–µ—Ä—å–µ—Ä–∑–Ω–æ –ø–æ–¥–æ—Ä–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ü–ª—é—Å, –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä—è–¥–∞ –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
    </p>

    <p>
        –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –±—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ —Ä–µ—à–∞—Ç—å –±–æ–ª–µ–µ –Ω–∞—Å—É—â–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –º–∞—à–∏–Ω—ã
        (448-core / 24TB RAM).
    </p>

    <p>
        –ß–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤—ã—Ä–∞–∑–∏–ª–æ —Å–æ–º–Ω–µ–Ω–∏—è, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥ –∫ SP —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç –ø—Ä–æ–∏–≤–∑–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –°–£–ë–î. –î–ª—è –∑–∞–¥–∞—á
        –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–µ—Ä–µ—Ö–æ–¥ –∫ SP –≤–æ–±—â–µ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
    </p>

    <p>
        –í—Ä–æ–¥–µ –∫–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–µ –ø—Ä–æ—Ç–∏–≤ –≥–ª—è–Ω—É—Ç—å –∫–∞–∫ –æ–Ω–æ –±—É–¥–µ—Ç. –¢–µ–º –±–æ–ª–µ–µ –µ—Å—Ç—å —Ñ–æ—Ä–∫ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–∞ –ö–Ω–∏–∂–Ω–∏–∫–∞ -
        —Ä–∞–±–æ—á–∞—è —á–µ—Ä–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è SP PostgreSQL. –ù–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, –Ω–∏–∫—Ç–æ –ø–æ–∫–∞ –Ω–µ –≤–∑—è–ª –Ω–∞ —Å–µ–±—è –æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
        –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ SP-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —ç—Ç–æ—Ç –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ç—Ä–µ–¥ –Ω–∏ –≤–æ —á—Ç–æ –Ω–µ –≤—ã–ª—å–µ—Ç—Å—è –∏ –º—ã –≤–µ—Ä–Ω–µ–º—Å—è –∫ –Ω–æ–≤–æ–º—É
        –≤–∏—Ç–∫—É –æ–±—Å—É–∂–¥–µ–Ω–∏—è SP PostgreSQL —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç.
    </p>

    <p>
        <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>
</div>
</body>
</html>