<html lang="ru">
<head>
    <title>Backend Podcast: 1. pg_basebackup, gzip vs zstd, DB indexes, Golang survey.</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
</head>
<body>
<div class="container">
    üåê
    <a href="https://t.me/bkndpro">Telegram</a> /
    <a href="https://open.spotify.com/show/6G9K0DrOH2wsEqDKbed01e?si=oQXKuI4tQKqgJj894-2p_A">Spotify</a> /
    <a href="https://www.youtube.com/@ostrbor/videos">YouTube</a> /
    <a href="https://podcasts.google.com/feed/aHR0cHM6Ly9mZWVkcy5hY2FzdC5jb20vcHVibGljL3Nob3dzLzY0NzI3YzA3ZTY4OTk3MDAxMmZiMWMyMw">Google Podcasts</a> /
    <a href="https://music.amazon.com/podcasts/d797927c-7c90-4d4b-a845-3b61dc25060c/backend-podcast">Amazon Music</a> /
    <a href="https://www.podchaser.com/podcasts/backend-podcast-5356704">Podchaser</a> /
    <a href="https://www.jiosaavn.com/shows/backend-podcast/1/gcf017sumlQ_">Jiosaavn</a> /
    <a href="https://feeds.acast.com/public/shows/64727c07e689970012fb1c23">RSS</a>
    <br/>
    ‚ùì –ü–∏—Å–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å—é–¥–∞: <a href="mailto:OstretsovAA+podcast@gmail.com">OstretsovAA+podcast@gmail.com</a>
</div>
<main class="container">
    <hgroup>
        <h1>1. pg_basebackup, gzip vs zstd, DB indexes, Golang survey.</h1>
        <h2>27.05.2023</h2>
    </hgroup>

    <p>
        <iframe title="Embed Player" width="100%" height="188px" src="https://embed.acast.com/64727c07e689970012fb1c23/64727d5ff0fbfe0011f0f994" scrolling="no" frameBorder="0" style="border:none;overflow:hidden;"></iframe>
        <a href="https://bknd.pro/podcast-files/001_backend_podcast.mp3">–°–∫–∞—á–∞—Ç—å</a>
    </p>


    <p>
    <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>

    <h3>PostgreSQL internals</h3>
    <p>–ú–µ–Ω—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É–¥–∏–≤–ª—è—Ç—å PostgreSQL. –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –°–£–ë–î —Å —à–∏—Ä–æ–∫–∏–º —Å–ø–µ–∫—Ç—Ä–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.</p>

    <p>
    –ü–æ–º–∏–º–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Å—á–∏—Ç–∞—é –ª—É—á—à–µ–π –∫–Ω–∏–≥–æ–π –ø–æ —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–º—É –∏–∑—É—á–µ–Ω–∏—é –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—é —ç—Ç–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ "PostgreSQL –∏–∑–Ω—É—Ç—Ä–∏" –ï–≥–æ—Ä–∞ –†–æ–≥–æ–≤–∞.
    –ö–Ω–∏–≥–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –Ω–µ–¥–∞–≤–Ω–æ –±—ã–ª–∞ –≤—ã–ø—É—â–µ–Ω–∞ –µ—ë –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è 15 - –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ–π - –≤–µ—Ä—Å–∏–∏ PostgreSQL.
    </p>

    <p>
    –¢—É—Ç —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à—É—é —Ä–µ–∫–ª–∞–º—É –∏—Ö YouTube-–∫–∞–Ω–∞–ª–∞.
    –í—ã –±–µ–∑ —Ç—Ä—É–¥–∞ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –µ–≥–æ –ø–æ –∏–º–µ–Ω–∏ "Postgres Professionals".
    –ù–∞ –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å —Ä—è–¥ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–π –°–£–î–ë.
    –ê–≤—Ç–æ—Ä—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ - —ç—Ç–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã PostgreSQL.
    –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –¥–æ–∫–ª–∞–¥—ã –û–ª–µ–≥–∞ –ë–∞—Ä—Ç—É–Ω–æ–≤–∞ –≤—ã —Å–ª—ã—à–∞–ª–∏ –Ω–µ —Ä–∞–∑.
    </p>

    <p>
    –°–µ–π—á–∞—Å —á–∏—Ç–∞—é –≤ —ç—Ç–æ–π –∫–Ω–∏–≥–µ –ø—Ä–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é B-Tree –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ PostgreSQL.
    –ù–∞–ø–æ–º–Ω—é, —á—Ç–æ PostgreSQL –±—ã–ª —Å–æ–∑–¥–∞–Ω –∫–∞–∫ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Ç–∏–ø, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å —Ç–∞–∫–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ B-Tree –∏–Ω–¥–µ–∫—Å–µ:
    </p>

    <pre>
    CREATE TYPE capacity AS (amount integer, unit capacity_units);
    CREATE OPERATOR #># (LEFTARG = capacity, RIGHTARG = capacity, FUNCTION = capacity_gt);
    CREATE OPERATOR CLASS capacity_ops
    DEFAULT FOR TYPE capacity
    USING btree AS
    OPERATOR 1 #<#,
    OPERATOR 2 #<=#,
    OPERATOR 3 #=#,
    OPERATOR 4 #>=#,
    OPERATOR 5 #>#,
    FUNCTION 1 capacity_cmp(capacity,capacity);
    CREATE INDEX ON test(cap);</pre>

    <p>
    –ò–∑ –ø–æ–ª–µ–∑–Ω–æ–≥–æ, –Ω–∞ —á–µ–º —Å—Ç–æ–∏—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –∑–∞–æ—Å—Ç—Ä–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ - —ç—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ (–≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Multicolumn Index).
    –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å - –∏–Ω–¥–µ–∫—Å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∏–∑ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã.
    –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤–æ–∑–º–æ–∂–Ω–æ —Å WHERE –ø–æ –≤—Å–µ–º –∫–æ–ª–æ–Ω–∫–∞–º–∏ —Ç–∞–∫–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞, –ª–∏–±–æ –ø–æ –ø–µ—Ä–≤–æ–π, –ª–∏–±–æ –ø–æ –ø–µ—Ä–≤–æ–π –∏ –≤—Ç–æ—Ä–æ–π, –ª–∏–±–æ –ø–æ –ø–µ—Ä–≤–æ–π, –≤—Ç–æ—Ä–æ–π –∏ —Ç—Ä–µ—Ç—å–µ–π –∏ —Ç.–¥.
    –¢—É—Ç –æ—á–µ–Ω—å –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫!
    –¢.–µ. –µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–∑ –∫–æ–ª–æ–Ω–æ–∫ company_id –∏ contact_id, —Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –≤—ã–±–æ—Ä–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ contact_id (–≤—Ç–æ—Ä–∞—è –∫–æ–ª–æ–Ω–∫–∞ –≤ –∏–Ω–¥–µ–∫—Å–µ) –≤—ã–Ω—É–¥–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Ç–æ—Ä—É—é –∫–æ–ª–æ–Ω–∫—É.
    </p>

    <p>
    –ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –∏–Ω–¥–µ–∫—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ company_id –∏ contact_id.
    –ï—Å–ª–∏ –±—ã contact_id –±—ã–ª –æ–±—ä—è–≤–ª–µ–Ω –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–∞, —Ç–æ –≤—ã–±–æ—Ä–∫–∞ –ø—Ä–æ—Å–∏—Ö–æ–¥–∏–ª–∞ –±—ã –ø–æ B-Tree –∏–Ω–¥–µ–∫—Å—É.
    </p>

    <p>
    –ß—Ç–æ–±—ã –ø—Ä–æ—â–µ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫.
    –í –ø–µ—Ä–≤—É—é –æ—á—Ä–µ–¥–µ—å –æ–Ω —É–ø–æ—Ä—è–¥–æ—á–µ–Ω –ø–æ —Ñ–∞–º–∏–ª–∏–∏, –∞ –∏—Å–∫–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ø—Ä–æ—Å—Ç—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.
    </p>

    <p>
    –ü–æ–Ω–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ B-Tree –∏–Ω–¥–µ–∫—Å–µ –º–æ–∂–Ω–æ –µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
    –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –ø–æ–∏—Å–∫ –ø–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—é –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ –∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–∏—é –æ–∫–æ–Ω—á–∞–Ω–∏—è, —Ç–æ –ª—É—á—à–µ –æ—Ç–∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ –Ω–∞—á–∞–ª—É —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ LIKE.
    </p>

    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞ Go –∫–æ–º—å—é–Ω–∏—Ç–∏</h3>
    –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: <a href="https://go.dev/blog/survey2023-q1-results" target="_blank">https://go.dev/blog/survey2023-q1-results</a>

    <p>
    –ò–∑ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ:
    <ul>
        <li>—Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: VS Code, GoLand, Vim (Neovim);</li>
        <li>—Ç–æ–ª—å–∫–æ 4% —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Go;</li>
        <li>—Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã: API / RPC services (72%), runnable / interactive programs (61%), –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ / —Ñ–µ—Ä–π–º–≤–æ—Ä–∫–∏ (44%);</li>
        <li>–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è / —Å–∫—Ä–∏–ø—Ç—ã (38%);</li>
        <li>web-—Å–∞–π—Ç—ã / web-—Å–µ—Ä–≤–∏—Å—ã (37%).</li>
    </ul>
    </p>

    <p>
        <a href="../../index.html">–ö —Å–ø–∏—Å–∫—É –≤—ã–ø—É—Å–∫–æ–≤</a>
    </p>
</main>
</body>
</html>